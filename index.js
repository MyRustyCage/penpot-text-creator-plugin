(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();const u=document.getElementById("textInput"),a=document.getElementById("createBtn"),d=document.getElementById("debugPanel"),g=document.getElementById("debugContent");let l=!1;function s(o,e="info"){const r=`[${new Date().toLocaleTimeString()}] [${e.toUpperCase()}] ${o}`;d.style.display="block",d.className=`debug-panel ${e}`,g.textContent=r,console.log(r)}s("UI loaded, waiting for plugin connection...","info");setTimeout(()=>{l||s("WARNING: Plugin not responding. Check manifest.json permissions and plugin.ts compilation.","warning")},3e3);a.addEventListener("click",()=>{const o=u.value.trim();if(!o){s("ERROR: Text field is empty. Please enter some text.","error");return}l||s("WARNING: Plugin may not be ready. Attempting to send anyway...","warning"),s(`Sending text (${o.length} chars): "${o.substring(0,14)}..."`,"info"),parent.postMessage({type:"create-text",content:o},"*"),a.disabled=!0,setTimeout(()=>{a.disabled=!1},1500)});window.addEventListener("message",o=>{console.log("[UI] Raw message received:",o.data);let e=o.data;if(e&&e.content&&typeof e.content=="object"&&(e=e.content),console.log("[UI] Parsed message:",e),!e||!e.type){console.warn("[UI] Message has no type:",e);return}if(e.type==="plugin-ready"){l=!0,s("âœ“ Plugin connected and ready!","success");return}if(e.type==="success")s(`SUCCESS: ${e.message}`,"success"),u.value="";else if(e.type==="error"){const i=`ERROR: ${e.message}

Type: ${e.name||"Unknown"}

Stack trace:
${e.stack||"No stack trace"}`;s(i,"error")}});console.log("[UI] Event listeners registered");
