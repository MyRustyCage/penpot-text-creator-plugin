(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();const u=document.getElementById("textInput"),l=document.getElementById("createBtn"),d=document.getElementById("debugPanel"),f=document.getElementById("debugContent");let a=!1;function i(o,r="info"){const s=`[${new Date().toLocaleTimeString()}] [${r.toUpperCase()}] ${o}`;d.style.display="block",d.className=`debug-panel ${r}`,f.textContent=s,console.log(s)}i("UI loaded, waiting for plugin connection...","info");setTimeout(()=>{a||i("WARNING: Plugin not responding. Check manifest.json permissions and plugin.ts compilation.","warning")},3e3);l.addEventListener("click",()=>{const o=u.value.trim();if(!o){i("ERROR: Text field is empty. Please enter some text.","error");return}a||i("WARNING: Plugin may not be ready. Attempting to send anyway...","warning"),i(`Sending text (${o.length} chars): "${o.substring(0,14)}..."`,"info"),parent.postMessage({type:"create-text",content:o},"*"),l.disabled=!0,setTimeout(()=>{l.disabled=!1},1500)});window.addEventListener("message",o=>{console.log("[UI] Raw message received:",o.data);let r=o.data;if(r&&r.content&&typeof r.content=="object"&&(r=r.content),console.log("[UI] Parsed message:",r),!r||!r.type){console.warn("[UI] Message has no type:",r);return}if(r.type==="plugin-ready"){a=!0,i("âœ“ Plugin connected and ready!","success");return}if(r.type==="success")i(`SUCCESS: ${r.message}`,"success"),u.value="";else if(r.type==="error"){const s=`ERROR: ${r.message}

Type: ${r.name||"Unknown"}

Stack trace:
${r.stack||"No stack trace"}`;i(s,"error")}});console.log("[UI] Event listeners registered");
